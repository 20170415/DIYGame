{"version":3,"sources":["webpack:///./src/pic/preViewPage/previewLevelBackground1.jpg","webpack:///./src/pic/preViewPage/previewLevelBackground2.png","webpack:///./src/pic/preViewPage/endFaceBackground.jpg","webpack:///./src/pic/preViewPage sync nonrecursive (\\.png|\\.jpg)$","webpack:///./src/pic/preViewPage/previewPagePlayer.png","webpack:///./src/lib/previewPageData.js","webpack:///./src/pic/preViewPage/DIYGAMElogo.png","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/views/previewPage.vue?4cb8","webpack:///./src/views/previewPage.vue?db9d","webpack:///src/views/previewPage.vue","webpack:///./src/views/previewPage.vue?7a46","webpack:///./src/views/previewPage.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["module","exports","__webpack_require__","p","map","./DIYGAMElogo.png","./endFaceBackground.jpg","./previewLevelBackground1.jpg","./previewLevelBackground2.png","./previewPagePlayer.png","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","levelMap","levelSetting","backgroundColor","backgroundImage","globalSetting","lives","size","speed","jumpSpeed","playerSprites","startUpBtn","left","top","width","height","borderRadius","color","borderWidth","borderColor","fontSize","zIndex","position","startUpBtnText","startBackgroundStyle","backgroundSize","backgroundRepeat","startTextComponents","style","opacity","transform","textContent","startPictureComponents","filter","url","endBackgroundStyle","processTextFlow","animate","animation","animationTime","animationDir","animationDistance","core","$JSON","JSON","stringify","it","apply","arguments","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_previewPage_vue_vue_type_style_index_0_id_0a7627b8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_previewPage_vue_vue_type_style_index_0_id_0a7627b8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","runningGame","staticClass","on","click","$event","startGame","_v","_s","_l","item","index","key","src","_e","gameEnd","staticStyle","font-size","font-weight","is_touch_device","staticRenderFns","pics","importAll","r","forEach","previewPagevue_type_script_lang_js_","name","mounted","responsiveInit","window","addEventListener","resizeTheStartUpFace","destroyed","removeEventListener","data","previewPageData","parse","stringify_default","doneLoading","gameDimension","margin","methods","_startGame","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","pureGame","document","querySelector","runGame","scrollTo","from_default","children","child","remove","gameEndAnimation","stop","screenDimension","innerWidth","innerHeight","navigator","MaxTouchPoints","msMaxTouchPoints","_this$screenDimension","ratio","adjRatio","mutateProp","base","self","property","undefined","pixelTypeTransfer","$set","value","Number","match","_this","_this$processTextFlow","time","start","distance","setInterval","clearInterval","_distance","_animate","views_previewPagevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/previewPage.f0138bcd.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/previewLevelBackground1.67530919.jpg\";","module.exports = __webpack_public_path__ + \"img/previewLevelBackground2.64a0bc5a.png\";","module.exports = __webpack_public_path__ + \"img/endFaceBackground.025688f8.jpg\";","var map = {\n\t\"./DIYGAMElogo.png\": \"8d24\",\n\t\"./endFaceBackground.jpg\": \"5d50\",\n\t\"./previewLevelBackground1.jpg\": \"197d\",\n\t\"./previewLevelBackground2.png\": \"2d4f\",\n\t\"./previewPagePlayer.png\": \"6635\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"646f\";","module.exports = __webpack_public_path__ + \"img/previewPagePlayer.ccce3d62.png\";","exports.levelMap = [\"................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n.............................................................d..................\\n................................................................................\\n..................................................................###...........\\n...................................................##......##....##+##..........\\n....................................o.o......##..................#+++#..........\\n.................................................................##+##..........\\n...................................#####..........................#v#...........\\n..##.........................................................................###\\n..#.......................................o.o................................#..\\n..#.....................o....................................................#..\\n..#......................................#####.............................o.#..\\n..#..........####............................................................#..\\n..#..@.......#..#................................................#####m......#..\\n..############..###############...####################.....#######...#########..\\n..............................#...#..................#.....#....................\\n..............................#+++#..................#+++++#....................\\n..............................#+++#..................#+++++#....................\\n..............................#####..................#######....................\\n................................................................................\\n................................................................................\", \"...................................\\n...................................\\n.........................o.........\\n...................................\\n........................#.#........\\n.......................#.#.#.......\\n........................#.#........\\n..................o......#.........\\n.................###...............\\n...................................\\n.............o.....................\\n............###....................\\n...................................\\n........o..........................\\n.......###.........................\\n...................................\\n..............o....................\\n.............###...................\\n.@.................................\\n###################################\"]\n\nexports.levelSetting = [{ \"backgroundColor\": \"#34a6fb\", \"backgroundImage\": null }, { \"backgroundColor\": \"#34a6fb\", \"backgroundImage\": null }];\n\nexports.globalSetting = {\n   lives: 3,\n   size: 1,\n   speed: 7,\n   jumpSpeed: 17,\n   playerSprites: null\n}\n\nexports.startUpBtn = { \"left\": \"301px\", \"top\": \"164px\", \"width\": \"131px\", \"height\": \"131px\", \"borderRadius\": \"129px\", \"color\": \"#000000\", \"backgroundColor\": \"#ffbea7\", \"borderWidth\": \"7px\", \"borderColor\": \"#ff8560\", \"fontSize\": \"30px\", \"zIndex\": 100,\"position\":\"absolute\",}\n\nexports.startUpBtnText = \"GO\";\n\nexports.startBackgroundStyle = { \"backgroundImage\": \"\", \"backgroundColor\": \"#74c2ee\", \"backgroundSize\": \"700px 400px\", \"backgroundRepeat\": \"no-repeat\" }\n\nexports.startTextComponents = [{ \"style\": { \"top\": \"34px\", \"left\": \"-18px\", \"fontSize\": \"107px\", \"color\": \"#ffdc9c\", \"opacity\": 1, \"transform\": \"rotate(-46deg)\", \"zIndex\": 0, \"position\": \"absolute\" }, \"textContent\": \"DIYGAME\" }]\n\nexports.startPictureComponents = [{ style: { \"top\": \"-28px\", \"left\": \"104px\", \"opacity\": 0.2, \"transform\": \"rotate(0deg)\", \"zIndex\": 0, \"filter\": \"none\", \"position\": \"absolute\" }, width: 493, url: \"\" }]\n\nexports.endBackgroundStyle = { \"backgroundImage\": \"\", \"backgroundColor\": \"#000000\", \"backgroundSize\": \"cover\", \"backgroundRepeat\": \"no-repeat\" }\n\nexports.processTextFlow = { \"style\": { \"position\": \"absolute\", \"top\": \"223px\", \"left\": \"207px\", \"fontSize\": \"30px\", \"color\": \"#ff0029\", \"zIndex\": 100 }, \"animate\": { \"animation\": true, \"animationTime\": 20, \"animationDir\": \"top\", \"animationDistance\": 935 }, \"textContent\": \"\\n五星红旗迎风飘扬，\\n胜利歌声多么响亮；\\n歌唱我们亲爱的祖国，\\n从今走向繁荣富强。\\n歌唱我们亲爱的祖国，\\n从今走向繁荣富强。\\n越过高山，越过平原，\\n跨过奔腾的黄河长江；\\n宽广美丽的土地，\\n是我们亲爱的家乡，\\n英雄的人民站起来了！\\n我们团结友爱坚强如钢。\\n五星红旗迎风飘扬，\\n胜利歌声多么响亮；\" }","module.exports = __webpack_public_path__ + \"img/DIYGAMElogo.14fde18d.png\";","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewPage.vue?vue&type=style&index=0&id=0a7627b8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewPage.vue?vue&type=style&index=0&id=0a7627b8&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gameRunner\"}},[(_vm.runningGame==false)?_c('div',{staticClass:\"startUpFace\",style:(_vm.startBackgroundStyle)},[_c('button',{style:(_vm.startUpBtn),on:{\"click\":function($event){return _vm.startGame()}}},[_vm._v(_vm._s(_vm.startUpBtnText))]),_vm._l((_vm.startTextComponents),function(item,index){return _c('div',{key:'textItem' + index,staticClass:\"textItem\",style:(item.style)},[_vm._v(_vm._s(item.textContent))])}),_vm._l((_vm.startPictureComponents),function(item,index){return _c('div',{key:'pictureItem' + index,staticClass:\"imgItem\",style:(item.style)},[_c('img',{attrs:{\"src\":item.url,\"width\":item.width}})])})],2):_vm._e(),(_vm.gameEnd)?_c('div',{staticClass:\"endFace\",style:(_vm.endBackgroundStyle)},[_c('pre',{staticClass:\"textFlow\",style:(_vm.processTextFlow.style)},[_vm._v(_vm._s(_vm.processTextFlow.textContent))])]):_vm._e(),(_vm.runningGame==false&&_vm.gameEnd==false)?_c('div',{staticStyle:{\"font-size\":\"15px\",\"color\":\"red\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.is_touch_device()?\"操作屏幕按键移动角色,横屏再开始游戏体验更加\":\"上、左、右键移动角色，esc键暂停\"))]):_vm._e(),_c('div',{staticClass:\"preViewGameContainer\",style:(_vm.gameDimension)})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"gameRunner\">\n    <!-- 开始界面 -->\n\n    <div class=\"startUpFace\" v-bind:style=\"startBackgroundStyle\" v-if=\"runningGame==false\">\n      <button v-bind:style=\"startUpBtn\" v-on:click=\"startGame()\">{{startUpBtnText}}</button>\n      <div\n        class=\"textItem\"\n        v-for=\"(item,index) in startTextComponents\"\n        :key=\"'textItem' + index\"\n        :style=\"item.style\"\n      >{{item.textContent}}</div>\n      <div\n        class=\"imgItem\"\n        v-for=\"(item,index) in startPictureComponents\"\n        :key=\"'pictureItem' + index\"\n        :style=\"item.style\"\n      >\n        <img :src=\"item.url\" :width=\"item.width\">\n      </div>\n    </div>\n\n    <!-- 结束界面 -->\n    <div class=\"endFace\" v-bind:style=\"endBackgroundStyle\" v-if=\"gameEnd\">\n      <pre class=\"textFlow\" v-bind:style=\"processTextFlow.style\">{{processTextFlow.textContent}}</pre>\n    </div>\n\n    <!-- 提示 -->\n    <div\n      v-if=\"runningGame==false&&gameEnd==false\"\n      style=\"font-size:15px;color:red;font-weight:600\"\n    >{{is_touch_device()?\"操作屏幕按键移动角色,横屏再开始游戏体验更加\":\"上、左、右键移动角色，esc键暂停\"}}</div>\n\n    <!-- 游戏容器 -->\n    <div class=\"preViewGameContainer\" v-bind:style=\"gameDimension\"></div>\n  </div>\n</template>\n\n<script>\nimport Game from \"../lib/pureGame\";\nimport {\n  levelMap,\n  levelSetting,\n  globalSetting,\n  startUpBtn,\n  startUpBtnText,\n  startBackgroundStyle,\n  startTextComponents,\n  startPictureComponents,\n  endBackgroundStyle,\n  processTextFlow\n} from \"@/lib/previewPageData\";\n\nconst pics = {};\nimportAll(require.context(\"@/pic/preViewPage\", false, /(\\.png|\\.jpg)$/));\nfunction importAll(r) {\n  r.keys().forEach(key => (pics[key] = r(key)));\n}\n\nexport default {\n  name: \"previewPage\",\n  mounted() {\n    this.levelSetting[0].backgroundImage =\n      pics[\"./previewLevelBackground1.jpg\"];\n    this.levelSetting[1].backgroundImage =\n      pics[\"./previewLevelBackground2.png\"];\n    this.globalSetting.playerSprites = pics[\"./previewPagePlayer.png\"];\n    this.startPictureComponents[0].url = pics[\"./DIYGAMElogo.png\"];\n\n    this.responsiveInit();\n    window.addEventListener(\"resize\", this.resizeTheStartUpFace);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.resizeTheStartUpFace);\n  },\n  data: function() {\n    return {\n      levelMap,\n      levelSetting,\n      globalSetting,\n      startUpBtnText,\n      startUpBtn: JSON.parse(JSON.stringify(startUpBtn)),\n      startBackgroundStyle: JSON.parse(JSON.stringify(startBackgroundStyle)),\n      startTextComponents: JSON.parse(JSON.stringify(startTextComponents)),\n      startPictureComponents: JSON.parse(\n        JSON.stringify(startPictureComponents)\n      ),\n      endBackgroundStyle: JSON.parse(JSON.stringify(endBackgroundStyle)),\n      processTextFlow: JSON.parse(JSON.stringify(processTextFlow)),\n      runningGame: false,\n      gameEnd: false,\n      doneLoading: true,\n      gameDimension: {\n        width: \"700px\",\n        height: \"400px\",\n        margin: \"auto\",\n        position: \"relative\"\n      }\n    };\n  },\n  methods: {\n    async startGame() {\n      this.runningGame = new Game(\n        document.querySelector(\".preViewGameContainer\")\n      );\n      await this.runningGame.runGame(levelMap, levelSetting, globalSetting);\n      this.gameEnd = true;\n      window.scrollTo(0, 0);\n      if (this.is_touch_device()) {\n        Array.from(\n          document.querySelector(\".preViewGameContainer\").children\n        ).forEach(child => child.remove());\n      }\n      this.gameEndAnimation();\n    },\n    resizeTheStartUpFace() {\n      if (this.runningGame !== false && this.gameEnd != true) return;\n      this.responsiveInit();\n    },\n    screenDimension() {\n      //获得屏幕界面\n      return {\n        width: window.innerWidth - 20,\n        height: window.innerHeight\n      };\n    },\n    is_touch_device() {\n      return (\n        \"ontouchstart\" in window ||\n        navigator.MaxTouchPoints > 0 ||\n        navigator.msMaxTouchPoints > 0\n      );\n    },\n    responsiveInit() {\n      //界面responsive\n      let { width, height } = this.screenDimension();\n      //先修改游戏界面\n      this.gameDimension.width = width + \"px\";\n      this.gameDimension.height = height + \"px\";\n      //根据width height按比率调整长宽\n      let ratio = height / width;\n      let adjRatio = 1;\n      if (ratio > 400 / 700) {\n        //依赖宽来定义size\n        adjRatio = width / 700;\n        //改变container的宽\n        this.$set(\n          this.startBackgroundStyle,\n          \"width\",\n          this.pixelTypeTransfer(width)\n        );\n        this.$set(\n          this.startBackgroundStyle,\n          \"height\",\n          this.pixelTypeTransfer(400 * adjRatio)\n        );\n        this.$set(\n          this.endBackgroundStyle,\n          \"width\",\n          this.pixelTypeTransfer(width)\n        );\n        this.$set(\n          this.endBackgroundStyle,\n          \"height\",\n          this.pixelTypeTransfer(400 * adjRatio)\n        );\n      } else {\n        //依赖长来定义size\n        adjRatio = height / 400;\n        this.$set(\n          this.startBackgroundStyle,\n          \"width\",\n          this.pixelTypeTransfer(700 * adjRatio)\n        );\n        this.$set(\n          this.startBackgroundStyle,\n          \"height\",\n          this.pixelTypeTransfer(height)\n        );\n        this.$set(\n          this.endBackgroundStyle,\n          \"width\",\n          this.pixelTypeTransfer(700 * adjRatio)\n        );\n        this.$set(\n          this.endBackgroundStyle,\n          \"height\",\n          this.pixelTypeTransfer(height)\n        );\n      }\n\n      mutateProp(this.startUpBtn, startUpBtn, this);\n      mutateProp(\n        this.startTextComponents[0].style,\n        startTextComponents[0].style,\n        this\n      );\n      mutateProp(\n        this.startPictureComponents[0].style,\n        startPictureComponents[0].style,\n        this\n      );\n      mutateProp(\n        this.startPictureComponents[0],\n        startPictureComponents[0],\n        this\n      );\n      mutateProp(this.processTextFlow.style, processTextFlow.style, this);\n\n      function mutateProp(item, base, self) {\n        [\"top\", \"left\", \"width\", \"height\", \"fontSize\"].forEach(property => {\n          if (item[property] != undefined)\n            item[property] =\n              typeof item[property] == \"string\"\n                ? self.pixelTypeTransfer(base[property]) * adjRatio + \"px\"\n                : base[property] * adjRatio;\n        });\n      }\n    },\n    pixelTypeTransfer(value) {\n      if (typeof value == \"string\") {\n        return Number(value.match(/-?\\d+/)[0]);\n      } else {\n        return value + \"px\";\n      }\n    },\n    gameEndAnimation() {\n      let {\n        animation,\n        animationTime,\n        animationDistance,\n        animationDir\n      } = this.processTextFlow.animate;\n      if (animation == false || animationTime == 0 || animationDistance == 0)\n        return;\n      let time = animationTime * 1000;\n      let start = 0;\n      if (animationDir == \"top\" || animationDir == \"bottom\") {\n        let distance =\n          animationDir == \"top\" ? -1 * animationDistance : animationDistance;\n        let animate = setInterval(() => {\n          this.processTextFlow.style.top =\n            this.pixelTypeTransfer(this.processTextFlow.style.top) +\n            (distance / time) * 60 +\n            \"px\";\n          start += 60;\n          if (start > time) clearInterval(animate);\n        }, 60);\n      } else {\n        let distance =\n          animationDir == \"left\" ? -1 * animationDistance : animationDistance;\n        let animate = setInterval(() => {\n          this.processTextFlow.style.left =\n            this.pixelTypeTransfer(this.processTextFlow.style.left) +\n            (distance / time) * 60 +\n            \"px\";\n          start += 60;\n          if (start > time) clearInterval(animate);\n        }, 60);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang='scss'>\n#gameRunner {\n  padding-top: 50px;\n  text-align: center;\n}\n\n.startUpFace {\n  margin: auto;\n  position: relative;\n  overflow: hidden;\n  background-position: center;\n  button {\n    position: absolute;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n\n.endFace {\n  @extend .startUpFace;\n  background-image: url(\"../pic/preViewPage/endFaceBackground.jpg\");\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./previewPage.vue?vue&type=template&id=0a7627b8&scoped=true&\"\nimport script from \"./previewPage.vue?vue&type=script&lang=js&\"\nexport * from \"./previewPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./previewPage.vue?vue&type=style&index=0&id=0a7627b8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a7627b8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}